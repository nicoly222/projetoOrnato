<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ornato Joias - Home</title>
    <link rel="stylesheet" href="paginaPrincipal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<script>
    // ==========================================
    // 1. Buscar produtos do backend
    // ==========================================
    async function carregarProdutos() {
        try {
            const response = await fetch("http://localhost:8080/api/produtos");
            const produtos = await response.json();

            preencherSecoes(produtos);
        } catch (erro) {
            console.error("Erro ao carregar produtos:", erro);
        }
    }

    carregarProdutos();

    // ==========================================
    // 2. Separar produtos nas seções
    // ==========================================
    function preencherSecoes(produtos) {

        // Distribuição (ajuste como quiser)
        const maisProcurados = produtos.slice(0, 3);
        const confiraTambem = produtos.slice(3, 7);
        const emOferta = produtos.slice(7, 11);

        montarGrid("mais-procurados", maisProcurados);
        montarGrid("confira-tambem", confiraTambem);
        montarGrid("em-oferta", emOferta);
    }

    // ==========================================
    // 3. Criar cada card dinamicamente
    // ==========================================
    function montarGrid(id, lista) {
        const container = document.getElementById(id);
        container.innerHTML = "";

        lista.forEach(produto => {
            const card = document.createElement("div");
            card.classList.add("product-card");

            card.innerHTML = `
                <img src="${produto.imagem}" alt="${produto.nome}">
                <p class="product-name">${produto.nome}</p>
                <button class="btn-confira">Confira</button>
            `;

            // Ação do botão
            card.querySelector(".btn-confira").addEventListener("click", () => {
                window.location.href = "produto.html?id=" + produto.id;
            });

            container.appendChild(card);
        });
    }
</script>

<body>

    <header class="header">
        <div class="header-top">
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="O que você procura?">
            </div>
            <div class="header-icons">
                <a href="#"><i class="fas fa-heart"></i> Lista de desejo</a>
                <a href="#"><i class="fas fa-shopping-bag"></i> Sacola</a>
                <a href="3"><i class="fas fa-user-circle"></i> Entrar</a>
            </div>
        </div>
        <nav class="main-nav">
            <a href="#">Anel</a>
            <a href="#">Colar</a>
            <a href="#">Brinco</a>
            <a href="#">Pulseira</a>
            <a href="#">Ofertas</a>
        </nav>
    </header>

    <main>
        <section class="category-banners">
            <div class="banner-item"><img src="WhatsApp Image 2025-11-11 at 14.28.09.jpeg" alt="Destaque 1"></div>
            <div class="banner-item"><img src="WhatsApp Image 2025-11-11 at 13.39.51.jpeg" alt="Destaque 2"></div>
            <div class="banner-item"><img src="imagem3.jpeg" alt="Destaque 3"></div>
            <div class="banner-item"><img src="imagem4.jpeg" alt="Destaque 4"></div>
        </section>

        <section class="products-section">
            <h2>OS MAIS PROCURADOS</h2>
            <div class="product-grid grid-3">
                <div class="product-card">
                    <img src="brincoGota.jpg" alt="Brinco Gota">
                    <p class="product-name">Brinco gota</p>
                    <button class="btn-confira">Confira</button>
                </div>
                <div class="product-card">
                    <img src="colarInicial.jpg" alt="Colar com inicial">
                    <p class="product-name">Colar com inicial</p>
                    <button class="btn-confira">Confira</button>
                </div>
                <div class="product-card">
                    <img src="WhatsApp Image 2025-11-11 at 14.58.00.jpeg" alt="Bracelete">
                    <p class="product-name">Bracelete</p>
                    <button class="btn-confira">Confira</button>
                </div>
            </div>
        </section>

        <section class="products-section">
            <h2>CONFIRA TAMBÉM</h2>
            <div class="product-grid grid-4">
                <div class="product-card">
                    <img src="colarPerola.jpg" alt="Colar de pérolas">
                    <p class="product-name">Colar de pérolas</p>
                    <button class="btn-confira">Confira</button>
                </div>
                <div class="product-card">
                    <img src="anelSafira.jpg" alt="Anel safira">
                    <p class="product-name">Anel safira</p>
                    <button class="btn-confira">Confira</button>
                </div>
                <div class="product-card">
                    <img src="brincoCoração.jpg" alt="Brinco de coração">
                    <p class="product-name">Brinco de coração</p>
                    <button class="btn-confira">Confira</button>
                </div>
                <div class="product-card">
                    <img src="braceleteInicial.jpg" alt="Bracelete com zircônia">
                    <p class="product-name">Bracelete com zircônia</p>
                    <button class="btn-confira">Confira</button>
                </div>
            </div>
        </section>

        <section class="products-section">
            <h2>EM OFERTA</h2>
            <div class="product-grid grid-4">
                 <div class="product-card">
                    <img src="argolaTorcida.webp" alt="Argola torcida">
                    <p class="product-name">Argola torcida</p>
                    <button class="btn-confira">Confira</button>
                </div>
                <div class="product-card">
                    <img src="Colarfilho.jpg" alt="Colar Filhos">
                    <p class="product-name">Colar Black</p>
                    <button class="btn-confira">Confira</button>
                </div>
                <div class="product-card">
                    <img src="anelCoração.jpg" alt="Anel de coração">
                    <p class="product-name">Anel de coração</p>
                    <button class="btn-confira">Confira</button>
                </div>
                <div class="product-card">
                    <img src="5bf0b1dd-75ab-486a-934b-418078f65b28.jpg" alt="Argola oval">
                    <p class="product-name">Argola oval</p>
                    <button class="btn-confira">Confira</button>
                </div>
            </div>
        </section>

        <section class="jewelry-care">
            <h2 class="ornato-title">Ornato<span>Joias</span></h2>
            <h3>Cuidados com a sua joia:</h3>
            <p>Para preservar a beleza e o brilho das suas peças Ornato, é importante adotar alguns cuidados simples. Evite o contato direto com água, perfumes, cremes, produtos de limpeza e qualquer substância química que possa danificar o acabamento. Vista a sua joia, aguarde alguns minutos após a aplicação de seu artigo de uso pessoal individual, para evitar atritos e riscos Esses pequenos cuidados garantem que suas peças mantenham o brilho e a elegância por muito mais tempo, acompanhando você em cada momento com o mesmo encanto do primeiro dia.</p>
        </section>

        <footer class="footer-instagram">
            <p class="insta-tag">@ornatojoias</p>
            <div class="instagram-grid">
                <div class="insta-item"><img src="imagem1final.jpeg" alt="Instagram 1"></div>
                <div class="insta-item"><img src="imagem2final.jpeg" alt="Instagram 2"></div>
                <div class="insta-item"><img src="WhatsApp Image 2025-11-11 at 14.26.37.jpeg" alt="Instagram 3"></div>
                <div class="insta-item"><img src="WhatsApp Image 2025-11-11 at 14.26.38.jpeg" alt="Instagram 4"></div>
            </div>
        </footer>

    </main>
</body>
<script src="userSession.js"></script>
</html>